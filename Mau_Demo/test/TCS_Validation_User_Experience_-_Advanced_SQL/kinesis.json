{
    "type": "functional",
    "name": "TCS Validation User Experience - Advanced SQL",
    "description": "Placeholder",
    "tasks": [
        {
            "type": "viz_open",
            "disabled": false,
            "name": "Open Viz",
            "url": "[\"{{TABLEAU_URL}}/t/{{TABLEAU_SITE}}/views/Superstore_16750812384000/Overview\"]"
        },
        {
            "type": "assert_data_rule_meets",
            "disabled": false,
            "name": "Assert Data Rules - Number of states",
            "data-type": "SUMMARY",
            "scope": "every-row",
            "formatted-values": false,
            "exclude-nulls": false,
            "tableau-export-csv": {
                "encoding": "utf8",
                "delimiter": ",",
                "newline-char": "\n"
            },
            "target": "Sale Map",
            "row-counts": [
                {
                    "operator": "equals",
                    "expression-value": 50
                }
            ],
            "workflow": {
                "continue-on-error": true
            }
        },
        {
            "type": "assert_data_rule_meets",
            "disabled": false,
            "name": "Assert Data Rules - Sales",
            "data-type": "UNDERLYING",
            "scope": "every-row",
            "formatted-values": true,
            "exclude-nulls": false,
            "tableau-export-csv": {
                "encoding": "utf8",
                "delimiter": ",",
                "newline-char": "\n"
            },
            "target": "Sales by Product",
            "rules": [
                {
                    "operator": "greater-than",
                    "column": "SUM(Sales)",
                    "expression-value": "0"
                }
            ],
            "workflow": {
                "continue-on-error": true
            }
        },
        {
            "type": "assert_data_rule_meets",
            "disabled": false,
            "name": "Assert Data Rules - Profitability",
            "data-type": "UNDERLYING",
            "scope": "every-row",
            "formatted-values": false,
            "exclude-nulls": false,
            "tableau-export-csv": {
                "encoding": "utf8",
                "delimiter": ",",
                "newline-char": "\n"
            },
            "target": "Sales by Product",
            "formulas": [
                "if([Order Profitable?],if([Profit]>0,TRUE,FALSE),if([Profit]<=0,TRUE,FALSE)) "
            ],
            "workflow": {
                "continue-on-error": true
            }
        },
        {
            "type": "assert_sql_equals",
            "name": "Assert SQL Equals",
            "disabled": false,
            "data-type": "SUMMARY",
            "tableau-export-csv": {
                "encoding": "utf8",
                "delimiter": ",",
                "newline-char": "\n"
            },
            "target-db": {
                "max-rows": 2000,
                "jdbcURL-generated": true,
                "jdbc-url": "jdbc:data:world:sql:kevinmazillewiiisdom:salemapdata",
                "user": "kevinmazillewiiisdom",
                "password": "5587745109c58f327a9ba9d812670f84;weSm87f1IK1ZbivnJ2DFq1mM8GUMYSbvw1Mz4x3ow8atWPCiiEe4+lwli0VCTN1b1dHVtkk+LUo+Mx13BCYquVijp0xH386YOZDTof1dU1LA+dCSDFgoGas7kyDni8TgSOlUqz1S5EVqgcU/luEhwmKVF48eAVeMU4roB32Jif8vv9rmjpVMUDEfw+XtyiiwzZGZbzLefNL1kdgrK5rQPjvjW2Z7HtWQexfqRbpWoIcwOhJRnNkI+ueOaKoFBEamhD+BlakhUyzUfeRCIEXnpC7tFNQ2nEWH8oCMwx+pr7Xn9aqnjqbJIDQicKjLbZOxn/tK9SI2PlubdW4Sv5nZ0nk3+f+WKmU1NL9xKdTbbUzMymqNo0TMVK4IkRym44UYaU6j6QPHzN0LDNE7aGvwK8d+Oxq7095yRu79isWMEc29j+8TyzcoiJyCRnGENYTB+Che5rTh0CLqDJbiuf4RAwwEttWBiXwkIup0LaoYd1BvTgUlYyojmk9k1Q+aoJDt/ty5a5rfZZiCikSIDvUJmNAPHzomLuJa44T+jbXlLAEcncx2dVL9K6QnCQ==;encrypted"
            },
            "truncate-decimal-places": -1,
            "comparison-mode": "native",
            "sql": "SELECT\n  state\nFROM\n  salemapdata",
            "target": "Sale Map",
            "columns": [
                "State"
            ]
        },
        {
            "type": "publish_tableau",
            "disabled": false,
            "name": "Publish to Prod",
            "source-doc-location": "tableau-server",
            "source-doc-type": "workbook",
            "tableau-server-url": "{{TABLEAU_URL}}",
            "tableau-server-user": "{{TABLEAU_USER}}",
            "tableau-server-password": "d9c03877f48e3c65e8d2ee96f6cbfa59;u+g2OutRXoHv3/I92HAS;encrypted",
            "site-id": "{{TABLEAU_SITE}}",
            "project": "{{TABLEAU_PROJECT}}",
            "target-context": "Wiiisdom_Tableau_Cloud - MM.json",
            "tabbed": false,
            "overwrite": true,
            "source-doc-name": "[\"Solution Consulting\",\"Maurizio\",\"Superstore\"]",
            "target-doc-name": "Superstore",
            "target-project": "[\"Solution Consulting\",\"Maurizio\",\"Published from Dev\"]",
            "db-password": ""
        }
    ],
    "tableau-snapshot": {},
    "disabled": false
}